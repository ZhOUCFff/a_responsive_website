"use strict";function initMap(){createMap(),setMapEvent(),addMapControl(),addMarker()}function createMap(){var n=new BMap.Map("dituContent"),e=new BMap.Point(113.11151,28.224735);n.centerAndZoom(e,18);var a=new BMap.Marker(new BMap.Point(113.11151,28.224735));n.addOverlay(a),window.map=n}function setMapEvent(){map.enableDragging(),map.enableScrollWheelZoom(),map.enableDoubleClickZoom(),map.enableKeyboard()}function addMapControl(){var n=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_LARGE});map.addControl(n);var e=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:0});map.addControl(e);var a=new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});map.addControl(a)}function addMarker(){for(var n=0;n<markerArr.length;n++){var e=markerArr[n],a=e.point.split("|")[0],o=e.point.split("|")[1],t=new BMap.Point(a,o),i=createIcon(e.icon),r=new BMap.Marker(t,{icon:i}),p=(createInfoWindow(n),new BMap.Label(e.title,{offset:new BMap.Size(e.icon.lb-e.icon.x+10,-20)}));r.setLabel(p),map.addOverlay(r),p.setStyle({borderColor:"#808080",color:"#333",cursor:"pointer"}),function(){var a=createInfoWindow(n),o=r;o.addEventListener("click",function(){this.openInfoWindow(a)}),a.addEventListener("open",function(){o.getLabel().hide()}),a.addEventListener("close",function(){o.getLabel().show()}),p.addEventListener("click",function(){o.openInfoWindow(a)}),e.isOpen&&(p.hide(),o.openInfoWindow(a))}()}}function createInfoWindow(n){var e=markerArr[n],a=new BMap.InfoWindow("<b class='iw_poi_title' title='"+e.title+"'>"+e.title+"</b><div class='iw_poi_content'>"+e.content+"</div>");return a}function createIcon(n){var e=new BMap.Icon("http://app.baidu.com/map/images/us_mk_icon.png",new BMap.Size(n.w,n.h),{imageOffset:new BMap.Size(-n.l,-n.t),infoWindowOffset:new BMap.Size(n.lb+5,1),offset:new BMap.Size(n.x,n.h)});return e}var markerArr=[{title:"湖南泉江智能科技有限公司",content:"联系电话：400-690-0731<br/>地址：",point:"113.11151|28.224735",isOpen:0,icon:{w:23,h:25,l:0,t:21,x:9,lb:12}}];initMap();